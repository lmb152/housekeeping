Page({
  data:{
    itemsrc:[{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/0.jpg",
	    	opacity:1
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/1.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/2.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/3.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/4.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/5.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/6.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/7.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/8.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/9.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/10.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/11.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/12.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/13.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/14.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/15.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/16.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/17.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/18.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/19.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/20.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/21.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/22.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/23.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/24.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/25.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/26.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/27.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/28.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/29.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/30.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/31.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/32.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/33.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/34.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/35.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/36.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/37.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/38.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/39.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/40.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/41.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/42.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/43.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/44.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/45.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/46.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/47.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/48.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/49.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/50.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/51.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/52.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/53.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/54.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/55.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/56.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/57.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/58.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/59.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/60.jpg",
	    	opacity:0
    	},{
	    	src:"http://dev.iprotime.com/public/dd/imgsrc2/61.jpg",
	    	opacity:0
    	}]
  },
  onReady:function(e){
		var that=this;
		var atime=0;
		var xum=0;
		var num=0;
		var aum=0;
		
		wx.showLoading({
			title: '加载中',
		})
		
		setTimeout(function(){
			wx.hideLoading();
			wx.onAccelerometerChange(function(res){
				  if(res.x>0.5){
					  res.x=0.5;
				  }
				  if(res.x<-0.5){
					  res.x=-0.5;
				  }
				  atime=Math.abs(xum-(res.x+0.5));
				  
				  /*当重力感应波动范围超过0.05时执行，防抖作用*/
				  if(atime>0.06){
				  	  xum=res.x+0.5;
				  	  num=Math.round(xum/(1/61));
					  imgcg();
				  }
			});
		}, 3000)
			
		function imgcg(){
		  var cum=num;
		  var cnum=Math.abs(cum-aum);
		  if(cum>aum){
			  function imd(){
			  	  aum=aum+1;
				  var param = {};
				  var string = "itemsrc["+aum+"].opacity";
				  param[string]=1;
				  that.setData(param);
				  if(aum>61){
					  aum=61;
					  clearInterval(add);
				  }else if(aum==cum){
					  clearInterval(add);
				  }
		  	  }
			  var add=setInterval(imd,200/cnum);
		  }else if(cum<aum){
			  function imc(){
				  var param = {};
				  var string = "itemsrc["+aum+"].opacity";
				  param[string]=0;
				  that.setData(param);
				  aum=aum-1;
				  if(aum<1){
					  aum=1;
					  clearInterval(cdd);
				  }else if(aum==cum+1){
					  clearInterval(cdd);
				  }
		  	  }
		  	  var cdd=setInterval(imc,200/cnum);
		  }
		  
		}
  }
  
  
})

